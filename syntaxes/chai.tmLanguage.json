{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "Chai",
  "scopeName": "source.chai",
  "patterns": [
    { "include": "#comment" },
    { "include": "#namespace" },
    { "include": "#claim" },
    { "include": "#issue" },
    { "include": "#effect" },
    { "include": "#reason" },
    { "include": "#requirement" },
    { "include": "#norm" },
    { "include": "#application" },
    { "include": "#evaluation" },
    { "include": "#logical-operators" },
    { "include": "#conclusion" },
    { "include": "#constant-definition" },
    { "include": "#constant-reference" },
    { "include": "#reference" }
  ],
  "repository": {
    "comment": {
      "patterns": [
        {
          "name": "comment.line.double-slash.chai",
          "match": "//.*$"
        }
      ]
    },
    "namespace": {
      "patterns": [
        {
          "name": "entity.name.namespace.chai",
          "match": "^\\s*::.+$",
          "captures": {
            "0": { "name": "entity.name.namespace.chai" }
          }
        }
      ]
    },
    "claim": {
      "patterns": [
        {
          "name": "keyword.control.claim.chai",
          "match": "[+!]?#[^\\^<=:\\s]+",
          "captures": {
            "0": { "name": "keyword.control.claim.chai" }
          }
        }
      ]
    },
    "reference": {
      "patterns": [
        {
          "name": "entity.name.tag.reference.chai",
          "match": "\\^[^\\s<=:]+",
          "captures": {
            "0": { "name": "entity.name.tag.reference.chai" }
          }
        }
      ]
    },
    "issue": {
      "patterns": [
        {
          "name": "keyword.control.issue.chai",
          "match": "\\?\\s*[^~=>]+",
          "captures": {
            "0": { "name": "keyword.control.issue.chai" }
          }
        }
      ]
    },
    "effect": {
      "patterns": [
        {
          "name": "keyword.control.effect.chai",
          "match": ">>\\s*.+$",
          "captures": {
            "0": { "name": "keyword.control.effect.chai" }
          }
        }
      ]
    },
    "reason": {
      "patterns": [
        {
          "name": "comment.block.reason.chai",
          "match": "^\\s*;.+$",
          "captures": {
            "0": { "name": "comment.block.reason.chai" }
          }
        }
      ]
    },
    "requirement": {
      "patterns": [
        {
          "name": "string.quoted.requirement.chai",
          "match": "[+!]?「[^」]+」",
          "captures": {
            "0": { "name": "string.quoted.requirement.chai" }
          }
        }
      ]
    },
    "norm": {
      "patterns": [
        {
          "name": "support.function.norm.chai",
          "match": "[+!]?%[^<=:\\s@]+[^<=@]*(?=\\s*(<=|:|$|@))",
          "captures": {
            "0": { "name": "support.function.norm.chai" }
          }
        }
      ]
    },
    "application": {
      "patterns": [
        {
          "name": "keyword.operator.application.chai",
          "match": "<=",
          "captures": {
            "0": { "name": "keyword.operator.application.chai" }
          }
        }
      ]
    },
    "evaluation": {
      "patterns": [
        {
          "name": "variable.parameter.evaluation.chai",
          "match": "@[^\\s&|)]+",
          "captures": {
            "0": { "name": "variable.parameter.evaluation.chai" }
          }
        }
      ]
    },
    "logical-operators": {
      "patterns": [
        {
          "name": "keyword.operator.logical.and.chai",
          "match": "\\\\?&|＆"
        },
        {
          "name": "keyword.operator.logical.or.chai",
          "match": "\\||｜"
        },
        {
          "name": "keyword.operator.reason.chai",
          "match": "~>"
        },
        {
          "name": "keyword.operator.implies.chai",
          "match": "=>"
        },
        {
          "name": "keyword.operator.colon.chai",
          "match": ":"
        }
      ]
    },
    "conclusion": {
      "patterns": [
        {
          "name": "keyword.control.conclusion.positive.chai",
          "match": "^\\s*\\+(?=#|「|%)"
        },
        {
          "name": "keyword.control.conclusion.negative.chai",
          "match": "^\\s*!(?=#|「|%)"
        }
      ]
    },
    "constant-definition": {
      "patterns": [
        {
          "name": "storage.type.constant.chai",
          "match": "\\bas\\s+[^\\s]+",
          "captures": {
            "0": { "name": "storage.type.constant.chai" }
          }
        }
      ]
    },
    "constant-reference": {
      "patterns": [
        {
          "name": "variable.other.constant.chai",
          "match": "\\$[^\\s<=:]+",
          "captures": {
            "0": { "name": "variable.other.constant.chai" }
          }
        }
      ]
    }
  }
}
