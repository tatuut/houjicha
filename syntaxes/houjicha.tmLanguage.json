{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "Houjicha",
  "scopeName": "source.houjicha",
  "patterns": [
    { "include": "#comment" },
    { "include": "#namespace" },
    { "include": "#claim" },
    { "include": "#issue" },
    { "include": "#effect" },
    { "include": "#reason" },
    { "include": "#requirement" },
    { "include": "#norm" },
    { "include": "#application" },
    { "include": "#evaluation" },
    { "include": "#logical-operators" },
    { "include": "#conclusion" },
    { "include": "#constant-definition" },
    { "include": "#constant-reference" },
    { "include": "#reference" }
  ],
  "repository": {
    "comment": {
      "patterns": [
        {
          "name": "comment.line.double-slash.houjicha",
          "match": "//.*$"
        }
      ]
    },
    "namespace": {
      "patterns": [
        {
          "name": "entity.name.namespace.houjicha",
          "match": "^\\s*::.+$",
          "captures": {
            "0": { "name": "entity.name.namespace.houjicha" }
          }
        }
      ]
    },
    "claim": {
      "patterns": [
        {
          "name": "keyword.control.claim.houjicha",
          "match": "[+!]?#[^\\^<=:\\s]+",
          "captures": {
            "0": { "name": "keyword.control.claim.houjicha" }
          }
        }
      ]
    },
    "reference": {
      "patterns": [
        {
          "name": "entity.name.tag.reference.houjicha",
          "match": "\\^[^\\s<=:]+",
          "captures": {
            "0": { "name": "entity.name.tag.reference.houjicha" }
          }
        }
      ]
    },
    "issue": {
      "patterns": [
        {
          "name": "keyword.control.issue.houjicha",
          "match": "\\?\\s*[^~=>]+",
          "captures": {
            "0": { "name": "keyword.control.issue.houjicha" }
          }
        }
      ]
    },
    "effect": {
      "patterns": [
        {
          "name": "keyword.control.effect.houjicha",
          "match": ">>\\s*.+$",
          "captures": {
            "0": { "name": "keyword.control.effect.houjicha" }
          }
        }
      ]
    },
    "reason": {
      "patterns": [
        {
          "name": "comment.block.reason.houjicha",
          "match": "^\\s*;.+$",
          "captures": {
            "0": { "name": "comment.block.reason.houjicha" }
          }
        }
      ]
    },
    "requirement": {
      "patterns": [
        {
          "name": "string.quoted.requirement.houjicha",
          "match": "[+!]?\\([^)]+\\)",
          "captures": {
            "0": { "name": "string.quoted.requirement.houjicha" }
          }
        }
      ]
    },
    "norm": {
      "patterns": [
        {
          "name": "support.function.norm.houjicha",
          "match": "[+!]?%[^<=:\\s@]+[^<=@]*(?=\\s*(<=|:|$|@))",
          "captures": {
            "0": { "name": "support.function.norm.houjicha" }
          }
        }
      ]
    },
    "application": {
      "patterns": [
        {
          "name": "keyword.operator.application.houjicha",
          "match": "<=",
          "captures": {
            "0": { "name": "keyword.operator.application.houjicha" }
          }
        }
      ]
    },
    "evaluation": {
      "patterns": [
        {
          "name": "variable.parameter.evaluation.houjicha",
          "match": "@[^\\s&|)]+",
          "captures": {
            "0": { "name": "variable.parameter.evaluation.houjicha" }
          }
        }
      ]
    },
    "logical-operators": {
      "patterns": [
        {
          "name": "keyword.operator.logical.and.houjicha",
          "match": "\\\\?&|＆"
        },
        {
          "name": "keyword.operator.logical.or.houjicha",
          "match": "\\||｜"
        },
        {
          "name": "keyword.operator.reason.houjicha",
          "match": "~>"
        },
        {
          "name": "keyword.operator.implies.houjicha",
          "match": "=>"
        },
        {
          "name": "keyword.operator.colon.houjicha",
          "match": ":"
        }
      ]
    },
    "conclusion": {
      "patterns": [
        {
          "name": "keyword.control.conclusion.positive.houjicha",
          "match": "^\\s*\\+(?=#|\\(|%)"
        },
        {
          "name": "keyword.control.conclusion.negative.houjicha",
          "match": "^\\s*!(?=#|\\(|%)"
        }
      ]
    },
    "constant-definition": {
      "patterns": [
        {
          "name": "storage.type.constant.houjicha",
          "match": "\\bas\\s+[^\\s]+",
          "captures": {
            "0": { "name": "storage.type.constant.houjicha" }
          }
        }
      ]
    },
    "constant-reference": {
      "patterns": [
        {
          "name": "variable.other.constant.houjicha",
          "match": "\\$[^\\s<=:]+",
          "captures": {
            "0": { "name": "variable.other.constant.houjicha" }
          }
        }
      ]
    }
  }
}
