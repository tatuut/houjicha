# ほうじ茶（Houjicha）構文ガイド

```
        ＿＿＿
      ／ほうじ＼
     |  ◕ ◕  |    「ほうじ茶ちゃんが構文を解説するよ！」
      ＼  ▽  ／
        ￣￣￣
```

---

## ほうじ茶ちゃんの自己紹介

> 「はじめまして！私は**ほうじ茶ちゃん**、法的三段論法をサポートするLSPのマスコットだよ！
>
> この言語は『**ほうじ茶（Houjicha）**』って言うの。法律の答案で使う論証構造を
> コードみたいに書けるようにしたものなんだ！
>
> 今日は、**今使える構文**を解説するね！」

---

## 現在対応している構文

### 1. 主張（Claim） `#`

```
        ╭─────────────────────────────────────────╮
  📝    │  主張は法的結論を表すよ！               │
        │  # で始めて、^で根拠条文、<=で事実！    │
        ╰─────────────────────────────────────────╯
```

**基本形**
```matcha
#窃盗罪^刑法235条 <= 甲の行為
```

**要件付き**（`:` で終わってインデント）
```matcha
#窃盗罪^刑法235条 <= 甲の行為:
    「他人の財物」 <= 本件財布はAの所有
    「窃取」 <= 持ち去った
```

**結論マーカー付き**
```matcha
+#窃盗罪^刑法235条 <= 甲の行為    // 成立する
!#窃盗罪^刑法235条 <= 甲の行為    // 成立しない
```

---

### 2. 要件（Requirement） `「」`

```
        ╭─────────────────────────────────────────╮
  ✅    │  「」で囲むと構成要件だよ！              │
        │  条文から読み取れる要素を書くの         │
        ╰─────────────────────────────────────────╯
```

**基本形**
```matcha
「他人の財物」 <= 本件財布はAが所有する財産
```

**結論マーカー付き**
```matcha
+「他人の財物」 <= OK
!「窃取」 <= 該当しない
```

---

### 3. 規範（Norm） `%`

```
        ╭─────────────────────────────────────────╮
  📖    │  % で始めると規範定立だよ！             │
        │  判例や学説の解釈基準を書くの           │
        ╰─────────────────────────────────────────╯
```

**基本形**
```matcha
%占有者の意思に反して占有を移転すること <= 持ち去った
```

**根拠条文付き**
```matcha
%故意^38条1項 <= 認識認容あり
```

---

### 4. 論点（Issue） `?`

```
        ╭─────────────────────────────────────────╮
  ❓    │  ? で始めると論点だよ！                 │
        │  問題提起 → 理由 → 規範の流れ！          │
        ╰─────────────────────────────────────────╯
```

**基本形**
```matcha
? 不法領得の意思は必要か ~> 使用窃盗との区別 => %不法領得の意思
```

**構造**
```
?  [問題提起]  ~>  [理由]  =>  [結論となる規範]
```

---

### 5. 効果（Effect） `>>`

```
        ╭─────────────────────────────────────────╮
  ⚡    │  >> で法的効果・結論を書くよ！          │
        │  主張の最後に置くことが多いね           │
        ╰─────────────────────────────────────────╯
```

```matcha
#窃盗罪^刑法235条 <= 甲の行為:
    「他人の財物」 <= OK
    「窃取」 <= OK
>> 窃盗罪が成立する
```

---

### 6. 理由（Reason） `;`

```
        ╭─────────────────────────────────────────╮
  💭    │  ; で思考過程やメモを書けるよ！         │
        │  後でRAGで関連付けされる独立行！        │
        ╰─────────────────────────────────────────╯
```

```houjicha
#窃盗罪^刑法235条 <= 甲の行為:
    「他人の財物」 <= 本件財布
    ; 財産犯の基本的な構成要件である
    「窃取」 <= 持ち去った
    ; 占有移転の有無が重要
```

---

### 7. 名前空間（Namespace） `::`

```
        ╭─────────────────────────────────────────╮
  📁    │  :: で論述の区切りを作れるよ！          │
        │  甲の罪責、乙の罪責、みたいにね         │
        ╰─────────────────────────────────────────╯
```

```matcha
:: 甲の罪責
    #窃盗罪^刑法235条 <= 甲の行為

:: 乙の罪責
    #窃盗罪の共同正犯^60条・235条 <= 乙の行為
```

---

### 8. 複合事実（Compound Fact） `( & | )`

```
        ╭─────────────────────────────────────────╮
  🔗    │  複数の事実を組み合わせられるよ！       │
        │  & は「かつ」、| は「または」           │
        ╰─────────────────────────────────────────╯
```

```matcha
<= (甲が財布を見つけた & 甲が財布を持ち去った)
<= (本人の同意がある | 法令による正当行為)
```

---

### 9. 評価（Evaluation） `@`

```
        ╭─────────────────────────────────────────╮
  💭    │  @ で事実に評価を付けられるよ！         │
        │  「事実@評価」の形で使うの              │
        ╰─────────────────────────────────────────╯
```

```matcha
<= 甲が財布を持ち去った@窃取行為に該当
```

---

### 10. コメント `//`

```matcha
// これはコメントだよ！
#窃盗罪^刑法235条 <= 甲の行為  // 行末コメントもOK
```

---

## 現在対応している構文 一覧表

| 構文 | 記号 | 例 | 状態 |
|------|------|-----|------|
| 主張 | `#` | `#窃盗罪^刑法235条` | ✅ 対応済み |
| 要件 | `「」` | `「他人の財物」` | ✅ 対応済み |
| 規範 | `%` | `%占有者の意思に反して` | ✅ 対応済み |
| 論点 | `?` | `? 不法領得の意思は必要か` | ✅ 対応済み |
| 効果 | `>>` | `>> 窃盗罪成立` | ✅ 対応済み |
| 理由（独立行） | `;` | `; 思考メモ` | ✅ 対応済み |
| 名前空間 | `::` | `:: 甲の罪責` | ✅ 対応済み |
| あてはめ | `<=` | `<= 事実` | ✅ 対応済み |
| 根拠条文 | `^` | `^刑法235条` | ✅ 対応済み |
| 肯定結論 | `+` | `+#窃盗罪` | ✅ 対応済み |
| 否定結論 | `!` | `!#窃盗罪` | ✅ 対応済み |
| 複合事実 | `( & \| )` | `(A & B)` | ✅ 対応済み |
| 評価 | `@` | `事実@評価` | ✅ 対応済み |
| 理由（論点内） | `~>` | `~> 理由` | ✅ 対応済み |
| 導出 | `=>` | `=> %規範` | ✅ 対応済み |
| コメント | `//` | `// コメント` | ✅ 対応済み |
| 行内複合 | `: %` | `「要件」: %規範 <= 事実` | ✅ 対応済み |
| 複数@ | `@` | `甲@自己 行為@移転` | ✅ 対応済み |
| 規範ネスト | `%:` + インデント | 規範の下に子規範 | ✅ 対応済み |

---

## 新機能の使い方

### 行内複合構文

1行で要件・規範・あてはめを書ける：

```houjicha
「窃取」: %占有者の意思に反して占有を移転 <= 甲が持ち去った
```

---

### 複数@（評価）

あてはめの中で複数の対応関係を示せる：

```houjicha
<= 甲@権利者排除 持ち去った@占有移転
```

---

### 規範ネスト

規範の下にインデントで子規範を書ける：

```houjicha
%故意:
    +%事実の認識 <= 認識あり
    +%事実の認容 <= 認容あり
```

---

## 将来の拡張予定

| 機能 | 説明 | 状態 |
|------|------|------|
| RAG連携 | ベクトルDBとの連携 | 🚧 構想中 |
| AI補完 | ゴーストライティング | 🚧 構想中 |
| 定数展開 | `$定数名` で定義した規範を展開 | 🚧 準備中 |
| as 定義 | `%規範 as 名前` で再利用可能に | 🚧 準備中 |

---

## 動作サンプル

```
        ╭─────────────────────────────────────────╮
  ✨    │  このサンプルはちゃんと動くよ！         │
        ╰─────────────────────────────────────────╯
```

```houjicha
// 窃盗罪の検討（新構文対応版）

#窃盗罪^刑法235条 <= 甲が本件財布を持ち去った行為:
    「他人の財物」 <= 本件財布はAが所有する財産
    ; 財産犯の基本的構成要件
    「窃取」: %占有者の意思に反して占有を移転 <= 持ち去った
    ; 占有移転の判断が重要ポイント
    %故意:
        +%事実の認識 <= 認識あり
        +%事実の認容 <= 認容あり
    %不法領得の意思 <= 利用処分意思あり@判例の立場
>> 窃盗罪が成立する
```

---

## お問い合わせ

```
        ╭─────────────────────────────────────────╮
  💬    │  質問があったら開発者に聞いてね！       │
        │  新しい構文のリクエストも大歓迎だよ     │
        ╰─────────────────────────────────────────╯
```

> 「以上、ほうじ茶ちゃんの構文解説でした！
>
> 法律の答案を書くときに使ってみてね。
> `.houjicha` または `.hcha` ファイルで書けるよ！
>
> それじゃあ、よい法的三段論法ライフを！」
